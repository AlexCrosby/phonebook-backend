{"version":3,"sources":["components/AddNew.js","components/Numbers.js","components/Filter.js","services/PhoneNumbers.js","components/Error.js","App.js","index.js"],"names":["AddNew","addName","newName","newNumber","handleNameChange","handleNumberChange","onSubmit","value","onChange","type","Numbers","persons","filter","deletePerson","peopleToShow","person","name","toLowerCase","includes","map","key","id","number","onClick","Filter","handleFilterChange","url","axios","get","then","response","data","post","window","confirm","delete","put","Error","message","errorStyle","background","fontSize","borderStyle","borderRadius","padding","marginBottom","charAt","color","style","App","useState","setPersons","setNewName","setNewNumber","newFilter","setNewFilter","newErrorMessage","setNewErrorMessage","useEffect","numberService","event","target","preventDefault","length","personToUpdate","find","p","catch","error","concat","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.4d4586c0.chunk.js","sourcesContent":["import React from \"react\";\r\n\r\nconst AddNew = ({addName, newName, newNumber, handleNameChange, handleNumberChange}) => {\r\n    return (\r\n        <form onSubmit={addName}>\r\n            <div>\r\n                name: <input value={newName} onChange={handleNameChange}/>\r\n            </div>\r\n            <div>\r\n                number: <input value={newNumber} onChange={handleNumberChange}/>\r\n            </div>\r\n            <div>\r\n                <button type=\"submit\">add</button>\r\n            </div>\r\n        </form>\r\n    )\r\n}\r\n\r\nexport default AddNew","import React from \"react\";\r\n\r\nconst Numbers = ({persons, filter, deletePerson}) => {\r\n    const peopleToShow = persons.filter(person => {\r\n            return (\r\n                person.name.toLowerCase().includes(filter.toLowerCase()))\r\n        }\r\n    )\r\n    return (\r\n        <>\r\n            {peopleToShow.map(person => <p key={person.id}>\r\n                {person.name} {person.number}&nbsp;\r\n                <button onClick={()=>deletePerson(person)}>delete</button>\r\n            </p>)}\r\n\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Numbers","import React from \"react\";\r\n\r\n\r\nconst Filter=({handleFilterChange})=>{\r\n    return(\r\n        <div>\r\n            filter shown with\r\n        <input onChange={handleFilterChange}/>\r\n        </div>\r\n    )\r\n\r\n}\r\nexport default Filter","import axios from 'axios'\r\n\r\n\r\nconst url = '/api/persons/'\r\n\r\nconst getAll = () => {\r\n\r\n    return axios.get(url)\r\n        .then(response => {\r\n            return (response.data)\r\n        })\r\n\r\n\r\n}\r\n\r\n\r\nconst addNew = (person) => {\r\n    return axios.post(url, person).then(response => {\r\n        return response.data\r\n    })\r\n\r\n}\r\n\r\nconst deleteName = person => {\r\n\r\n    if (window.confirm(`Delete ${person.name}?`)) {\r\n        return axios.delete(url + person.id).then(response => {\r\n            return response.data\r\n        })\r\n    }\r\n}\r\n\r\nconst update = person=>{\r\n    return axios.put(url+person.id, person).then(response=>{return response.data})\r\n}\r\n\r\nexport default {getAll, addNew, deleteName, update}","import React from \"react\";\r\nconst Error = ({message}) => {\r\n\r\n\r\nlet errorStyle={\r\n        background: 'lightgrey',\r\n        fontSize: '20',\r\n        borderStyle: 'solid',\r\n        borderRadius: 5,\r\n        padding: 10,\r\n        marginBottom: 10,\r\n    }\r\n\r\n\r\n    if (message === null) {\r\n        return null\r\n    } else {\r\n        if (message.charAt(0)==='A'){\r\n        errorStyle.color='green'}\r\n        else{errorStyle.color='red'}\r\n        return (\r\n            <div style={errorStyle}>\r\n                {message}\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\n\r\nexport default Error","import React, {useState, useEffect} from 'react'\nimport AddNew from \"./components/AddNew\";\nimport Numbers from \"./components/Numbers\";\nimport Filter from \"./components/Filter\";\nimport numberService from \"./services/PhoneNumbers\"\nimport Error from \"./components/Error\";\n\nconst App = () => {\n    const [persons, setPersons] = useState([]),\n        [newName, setNewName] = useState(''),\n        [newNumber, setNewNumber] = useState(''),\n        [newFilter, setNewFilter] = useState(''),\n        [newErrorMessage, setNewErrorMessage] = useState(null)\n\n\n    useEffect(() => {\n        numberService.getAll().then(response => setPersons(response))\n\n    }, [])\n\n    const addName = (event) => {\n        event.preventDefault()\n        if (persons.filter(person => person.name.toLowerCase() === newName.toLowerCase()).length > 0) {\n            const updateCheck = window.confirm(`${newName} is already added to the phonebook, replace the old number with a new one?`)\n\n            if (updateCheck) {\n                let personToUpdate = persons.find(p => p.name === newName)\n                personToUpdate = {...personToUpdate, number: newNumber}\n                numberService.update(personToUpdate).then(() => {\n                    setPersons(persons.map(p => p.name === newName ? personToUpdate : p))\n                    setNewErrorMessage(`Updated ${newName}`)\n                }).catch(error => {\n                    setNewErrorMessage(`Information of ${newName} has already been removed from server`)\n                })\n\n            }\n\n\n        } else {\n            // setPersons(persons.concat({name: newName, number: newNumber}))\n            const newPerson = {name: newName, number: newNumber}\n            numberService.addNew(newPerson).then(data => setPersons(persons.concat(data)))\n            setNewErrorMessage(`Added ${newName}`)\n        }\n        setNewName('')\n        setNewNumber('')\n    }\n\n    const handleFilterChange = event => {\n        setNewFilter(event.target.value)\n    }\n\n    const handleNameChange = (event) => {\n        setNewName(event.target.value)\n    }\n\n    const handleNumberChange = (event) => {\n        setNewNumber(event.target.value)\n    }\n\n    const deletePerson = (person) => {\n        numberService.deleteName(person)\n            .then(() => setPersons(persons.filter(p => {\n                return p.id !== person.id\n            })))\n\n    }\n\n    return (\n        <div>\n            <h2>Phonebook</h2>\n            <Error message={newErrorMessage}/>\n            <Filter handleFilterChange={handleFilterChange}/>\n            <h3>Add a new</h3>\n            <AddNew handleNameChange={handleNameChange}\n                    handleNumberChange={handleNumberChange}\n                    newName={newName} newNumber={newNumber}\n                    addName={addName}/>\n\n            <h3>Numbers</h3>\n            <Numbers persons={persons} filter={newFilter} deletePerson={deletePerson}/>\n        </div>\n    )\n}\n\n\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}